<!DOCTYPE html>
<body>
  <h1>PUMAP result 100 iteration</h1>
  <svg width="400" height="400" id="svg1"></svg>
  <h1>PUMAP result 200 iteration</h1>
  <svg width="400" height="400" id="svg2"></svg>
  
  <script src="https://d3js.org/d3.v4.min.js"></script>

  <script>

  draw('#svg1', '100.csv')
  draw('#svg2', '200.csv')

  function translate(x, y) { return 'translate(' + x + ',' + y + ')'; }

  function draw(svgId, path) {
    d3.text(path, (data) => {
      data = "x1,x2\n" + data;  //now you have the header
      data = d3.csvParse(data)

      

      // convert all values into numbers
      data.forEach(function(d) {
        d.x1 = +d.x1;
        d.x2 = +d.x2;
      });

      let width = 380, height = 380;
      let svg = d3.select(svgId)
        .append('g')
        .attr('transform', translate(10, 10))

      let x = d3.scaleLinear()
        .domain(d3.extent(data, d => d.x1))
        .range([0, width])

      let y = d3.scaleLinear()
        .domain(d3.extent(data, d => d.x2))
        .range([0, height])

      let color = d3.scaleOrdinal()
        .domain(["0", "1", "2"])
        .range([ "#440154ff", "#21908dff", "#fde725ff"])        

      svg.append('g')
        .selectAll('circle')
        .data(data)
        .enter()
        .append('circle')
          .attr('r', 1.5)
          .style('fill', d => color(d))
          .attr('stroke', 'black')
          .attr('stroke-width', '0.3px')
          .attr('cx', d => x(d.x1))
          .attr('cy', d => y(d.x2))
          .attr('opacity', 0.7)
    })
  }

  </script>
</body>
